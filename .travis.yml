---
language: php
php:
 - 5.5
 - 7.0
 - hhvm
install:
 - composer install
script:
 - ./vendor/bin/phpcs --standard=psr2 --ignore=vendor -n . --sniffs=Generic.ControlStructures.InlineControlStructure,Generic.Files.ByteOrderMark,Generic.Files.LineEndings,Generic.Files.LineLength,Generic.Formatting.DisallowMultipleStatements,Generic.Functions.FunctionCallArgumentSpacing,Generic.NamingConventions.UpperCaseConstantName,Generic.PHP.DisallowShortOpenTag,Generic.PHP.LowerCaseConstant,Generic.PHP.LowerCaseKeyword,Generic.WhiteSpace.DisallowTabIndent,Generic.WhiteSpace.ScopeIndent,PEAR.Functions.ValidDefaultValue,PSR1.Classes.ClassDeclaration,PSR1.Files.SideEffects,PSR2.Classes.ClassDeclaration,PSR2.Classes.PropertyDeclaration,PSR2.ControlStructures.ControlStructureSpacing,PSR2.ControlStructures.ElseIfDeclaration,PSR2.ControlStructures.SwitchDeclaration,PSR2.Files.ClosingTag,PSR2.Files.EndFileNewline,PSR2.Methods.FunctionCallSignature,PSR2.Methods.MethodDeclaration,PSR2.Namespaces.NamespaceDeclaration,PSR2.Namespaces.UseDeclaration,Squiz.Classes.ValidClassName,Squiz.ControlStructures.ControlSignature,Squiz.ControlStructures.ForEachLoopDeclaration,Squiz.ControlStructures.ForLoopDeclaration,Squiz.ControlStructures.LowercaseDeclaration,Squiz.Functions.FunctionDeclarationArgumentSpacing,Squiz.Functions.FunctionDeclaration,Squiz.Functions.LowercaseFunctionKeywords,Squiz.Functions.MultiLineFunctionDeclaration,Squiz.Scope.MethodScope,Squiz.WhiteSpace.ScopeClosingBrace,Squiz.WhiteSpace.ScopeKeywordSpacing,Squiz.WhiteSpace.SuperfluousWhitespace
 - ./vendor/bin/phpunit --coverage-clover build/logs/clover.xml
after_success:
 - ./vendor/bin/test-reporter --stdout > codeclimate.json
 - "curl -X POST -d @codeclimate.json -H 'Content-Type: application/json' -H 'User-Agent: Code Climate (PHP Test Reporter v0.1.1)' https://codeclimate.com/test_reports"
